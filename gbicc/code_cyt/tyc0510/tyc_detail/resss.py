#!/usr/bin/env python  
# -*- encoding: utf-8 -*-  

""" 
@author: niuweidong 
@software: PyCharm 
@file: test_re.py
@time: 2018/11/15 11:19
"""
import datetime
import re
import time

from  bs4 import BeautifulSoup
def func():
    pass

class Main():
    
    def __init__(self):
        pass

if __name__ == "__main__":
    # s = '''<table class="table"><thead><tr><th class="sort-col">序号</th><th class="date-col">申请日期</th><th width="10%">商标</th><th width="15%">商标名称</th><th width="15%">注册号</th><th width="19%">类别</th><th>流程状态</th><th class="doing-col">操作</th></tr></thead><tbody><tr><td>1</td><td><span>2016-12-15</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/540c0ec65de7b9cbe2a90377872e4e15.jpg" alt="" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/540c0ec65de7b9cbe2a90377872e4e15.jpg"></div></div></td><td><span>-</span></td><td><span>22274593</span></td><td><span>35-广告、销售、商业服务</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22274593&quot;,&quot;35-广告、销售、商业服务&quot;)">详情</a></td></tr><tr><td>2</td><td><span>2016-12-15</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/0254a54c067165c1f43985e70b5f81f5.jpg" alt="" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/0254a54c067165c1f43985e70b5f81f5.jpg"></div></div></td><td><span>-</span></td><td><span>22274969</span></td><td><span>41-教育、娱乐服务</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22274969&quot;,&quot;41-教育、娱乐服务&quot;)">详情</a></td></tr><tr><td>3</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/d067f66022c286ae741e2deeb8bbe0b4.jpg" alt="" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/d067f66022c286ae741e2deeb8bbe0b4.jpg"></div></div></td><td><span>-</span></td><td><span>22073844</span></td><td><span>35-广告、销售、商业服务</span></td><td><span>等待驳回复审</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22073844&quot;,&quot;35-广告、销售、商业服务&quot;)">详情</a></td></tr><tr><td>4</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/fb7025f80f8dab8792c16a48d79e511d.jpg" alt="ECOAI" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/fb7025f80f8dab8792c16a48d79e511d.jpg"></div></div></td><td><span>ECOAI</span></td><td><span>22073879</span></td><td><span>28-玩具、体育用品</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22073879&quot;,&quot;28-玩具、体育用品&quot;)">详情</a></td></tr><tr><td>5</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/e49504db8c3d132bde3b5ada968e836c.jpg" alt="" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/e49504db8c3d132bde3b5ada968e836c.jpg"></div></div></td><td><span>-</span></td><td><span>22074137</span></td><td><span>38-电讯、通信服务</span></td><td><span>等待驳回复审</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22074137&quot;,&quot;38-电讯、通信服务&quot;)">详情</a></td></tr><tr><td>6</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/0605b150ee27c2fed079a865bb22f20d.jpg" alt="ECOAI" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/0605b150ee27c2fed079a865bb22f20d.jpg"></div></div></td><td><span>ECOAI</span></td><td><span>22074255</span></td><td><span>41-教育、娱乐服务</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22074255&quot;,&quot;41-教育、娱乐服务&quot;)">详情</a></td></tr><tr><td>7</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/20e72b8f03ac5a74314fe1f92e61e1a0.jpg" alt="ECOAI" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/20e72b8f03ac5a74314fe1f92e61e1a0.jpg"></div></div></td><td><span>ECOAI</span></td><td><span>22073602</span></td><td><span>12-交通工具</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22073602&quot;,&quot;12-交通工具&quot;)">详情</a></td></tr><tr><td>8</td><td><span>2016-11-29</span></td><td><div class="lazy-img tmInfo-img -image"><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/5020209ece63593e8a4e4238f458cfd6.jpg" alt="ECOAI" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png" src="https://tm-image.tianyancha.com/tm/5020209ece63593e8a4e4238f458cfd6.jpg"></div></div></td><td><span>ECOAI</span></td><td><span>22073228</span></td><td><span>45-社交、法律服务</span></td><td><span>等待受理通知书发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22073228&quot;,&quot;45-社交、法律服务&quot;)">详情</a></td></tr><tr><td>9</td><td><span>2016-11-24</span></td><td><div class="lazy-img tmInfo-img "><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/7fede7ccfa459a45063bcd7ef153b700.jpg" alt="乐盟" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png"></div></div></td><td><span>乐盟</span></td><td><span>22027036</span></td><td><span>9-软件产品、科学仪器</span></td><td><span>等待驳回复审</span></td><td><a class="link-click" onclick="openTmDetail(&quot;22027036&quot;,&quot;9-软件产品、科学仪器&quot;)">详情</a></td></tr><tr><td>10</td><td><span>2016-11-07</span></td><td><div class="lazy-img tmInfo-img "><div class="logo -w-tm"><img class="img" data-src="https://tm-image.tianyancha.com/tm/f94cf44ac784d46599639c61bd23d755.jpg" alt="钱串儿" erro-src="https://static.tianyancha.com/wap/images/searchLogo918.png"></div></div></td><td><span>钱串儿</span></td><td><span>21819998</span></td><td><span>36-保险、金融、不动产服务</span></td><td><span>等待注册证发文</span></td><td><a class="link-click" onclick="openTmDetail(&quot;21819998&quot;,&quot;36-保险、金融、不动产服务&quot;)">详情</a></td></tr></tbody></table>'''
    sss='''<div class="block-data" tyc-event-click="" tyc-event-ch="CompangyDetail.zhaopin"><div class="data-header" id="nav-main-recruitCount">招聘<span class="data-count">2308</span><div class="data-logo"><svg viewBox="0 0 90 20"><use xlink:href="#svg-tyc-logo"></use></svg></div></div><div class="data-content" id="_container_recruit"><table class="table"><thead><tr><th class="sort-col">序号</th><th class="date-col">发布时间</th><th>招聘职位</th><th width="14%">薪资</th><th width="10%">工作经验</th><th width="9%">招聘人数</th><th width="12%">所在城市</th><th class="doing-col">操作</th></tr></thead><tbody><tr><td>1</td><td>2018-09-18</td><td class="left-col">Web 前端工程师</td><td>15000-30000</td><td>应届生</td><td>若干</td><td>北京</td><td><a class="link-click" href="https://job.tianyancha.com/4193e04658ef64a501e2c819602b1905" target="_blank">详情</a></td></tr><tr><td>2</td><td>2018-09-18</td><td class="left-col">大客户销售</td><td>8000-16000</td><td>不限</td><td>若干</td><td>上海</td><td><a class="link-click" href="https://job.tianyancha.com/94dea6ca83cccdafd77d0b7d8914fbfc" target="_blank">详情</a></td></tr><tr><td>3</td><td>2018-09-15</td><td class="left-col">税务经理</td><td>15000-30000</td><td>3-5年</td><td>若干</td><td>北京</td><td><a class="link-click" href="https://job.tianyancha.com/0ecf44b2c27e59df4a105cd0a0568441" target="_blank">详情</a></td></tr><tr><td>4</td><td>2018-09-15</td><td class="left-col">税务专员</td><td>10000-20000</td><td>3-5年</td><td>若干</td><td>北京</td><td><a class="link-click" href="https://job.tianyancha.com/819976d123fb9d87f83b5fa4227d7b4a" target="_blank">详情</a></td></tr><tr><td>5</td><td>2018-09-12</td><td class="left-col">销售经理主管</td><td>面议</td><td>2年以上</td><td>不限</td><td>宁波</td><td><a class="link-click" href="https://job.tianyancha.com/fe601559339962a829a5df1137b24081" target="_blank">详情</a></td></tr><tr><td>6</td><td>2018-09-12</td><td class="left-col">销售经理</td><td>8-18万</td><td>2年以上</td><td>不限</td><td>石家庄</td><td><a class="link-click" href="https://job.tianyancha.com/d2e9d81f22214e42f495cd1fc926f8eb" target="_blank">详情</a></td></tr><tr><td>7</td><td>2018-09-12</td><td class="left-col">销售经理主管</td><td>面议</td><td>2年以上</td><td>不限</td><td>台州</td><td><a class="link-click" href="https://job.tianyancha.com/e474020bf5a1884dacdb9da11f459367" target="_blank">详情</a></td></tr><tr><td>8</td><td>2018-09-12</td><td class="left-col">销售经理主管</td><td>面议</td><td>2年以上</td><td>不限</td><td>衢州</td><td><a class="link-click" href="https://job.tianyancha.com/ec9f251e059d90bd9f204f0832010f95" target="_blank">详情</a></td></tr><tr><td>9</td><td>2018-09-12</td><td class="left-col">销售经理广告销售</td><td>12-18万</td><td>2年以上</td><td>不限</td><td>北京</td><td><a class="link-click" href="https://job.tianyancha.com/ddf9b8d47a779124d78384e024064d06" target="_blank">详情</a></td></tr><tr><td>10</td><td>2018-09-12</td><td class="left-col">销售经理</td><td>8-18万</td><td>2年以上</td><td>不限</td><td>福州</td><td><a class="link-click" href="https://job.tianyancha.com/a94f568c287d8b14ac9661a51c384db3" target="_blank">详情</a></td></tr></tbody></table><!----><!----><!----><div class="company_pager"><ul class="pagination" page-total="2308" change-type="recruit" line-type-name="" line-type-val=""><li><a class="num -current">1</a></li><li><a class="num " onclick="companyPageChange(2,this)">2</a></li><li><a class="num " onclick="companyPageChange(3,this)">3</a></li><li><a class="num " onclick="companyPageChange(4,this)">4</a></li><li><a class="num " onclick="companyPageChange(5,this)">5</a></li><li><a class="num " onclick="companyPageChange(6,this)">6</a></li><li><a class="num " onclick="companyPageChange(7,this)">7</a></li><li><a class="num " onclick="companyPageChange(8,this)">8</a></li><li><a class="num " onclick="companyPageChange(9,this)">9</a></li><li><a class="num " onclick="companyPageChange(10,this)">10</a></li><li><a class="num -end" onclick="companyPageChange(231,this)">...231</a></li><li><a class="num -next" onclick="companyPageChange(2,this)">&gt;</a></li></ul></div></div></div>'''
    html=BeautifulSoup(sss,'lxml')
    data_count = html.find('div', {'class': 'company_pager'})
    page_span = data_count.find('a', string=re.compile(r'...'))
    print(page_span.text.replace(r'...',''))
    ls= data_count.find_all('a')
    print(ls[-2].text)
    # for i in range(2,5):
        # print(i)
    # for tm in tms:
    #
    #     # url = tm['href']
    #     # law_number = str(url).split('/')[-1]
    #     # law_number = str(tm['onclick']).split('"')[2]
    #     s_patern = re.compile(r'\d+')
    #     url_a=tm["onclick"]
    #     print(url_a)
    #     law_number = url_a.split('"')[3]
    #     print(law_number)
    #     # re.search('\d+',law_number).groups()
    #     print( re.search(r'(\d+)-',law_number).groups(1)[0])
    #     l=int(time.time() * 1000)
    #     print(l)
    #
